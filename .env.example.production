# Interview Coach - Environment Configuration Examples

## ============================================================================
## DEVELOPMENT ENVIRONMENT (.env.local or .env)
## ============================================================================

# React Configuration
NODE_ENV=development
REACT_APP_API_BASE_URL=http://localhost:5000

# Backend Configuration
JWT_SECRET=dev-secret-key-for-testing-only-change-in-production
DATABASE_URL=sqlite:./database.db

# LLM Configuration (Claude Haiku - Recommended)
LLM_API_KEY=sk-ant-your-api-key-here
LLM_CHAT_MODEL=claude-3-5-haiku-20241022
LLM_CHAT_ENDPOINT=https://api.anthropic.com/v1/messages
LLM_TEMPERATURE=0.2

# Optional: Vector Database
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# Optional: Redis for Production Rate Limiting
# REDIS_URL=redis://localhost:6379


## ============================================================================
## PRODUCTION ENVIRONMENT (.env.production)
## ============================================================================

# React Configuration
NODE_ENV=production
REACT_APP_API_BASE_URL=https://api.interview-coach.com

# Backend Configuration - MUST BE SET IN PRODUCTION
JWT_SECRET=generate-secure-32-character-random-string-using-openssl-rand-hex-32
DATABASE_URL=postgresql://user:password@db.example.com:5432/interview_coach

# LLM Configuration (Use actual API key)
LLM_API_KEY=sk-ant-your-real-production-api-key
LLM_CHAT_MODEL=claude-3-5-haiku-20241022
LLM_CHAT_ENDPOINT=https://api.anthropic.com/v1/messages
LLM_TEMPERATURE=0.2

# Vector Database Production
QDRANT_URL=https://qdrant.example.com:6333
QDRANT_API_KEY=your-qdrant-api-key

# Redis for Production Rate Limiting
REDIS_URL=redis://:password@redis.example.com:6379


## ============================================================================
## DOCKER ENVIRONMENT (.env.docker or as docker-compose environment)
## ============================================================================

# React Configuration
NODE_ENV=production
REACT_APP_API_BASE_URL=https://api.interview-coach.com

# Backend Configuration
JWT_SECRET=docker-prod-secret-key
DATABASE_URL=postgresql://interview_coach:password@postgres:5432/interview_coach

# LLM Configuration
LLM_API_KEY=sk-ant-your-docker-api-key
LLM_CHAT_MODEL=claude-3-5-haiku-20241022
LLM_CHAT_ENDPOINT=https://api.anthropic.com/v1/messages
LLM_TEMPERATURE=0.2

# Redis for Rate Limiting (Docker service)
REDIS_URL=redis://redis:6379

# Qdrant Vector Database (Docker service)
QDRANT_URL=http://qdrant:6333
QDRANT_API_KEY=


## ============================================================================
## HEROKU DEPLOYMENT (.env is not used; set via Heroku dashboard)
## ============================================================================

# Settings → Config Vars:
# REACT_APP_API_BASE_URL=https://your-app.herokuapp.com
# JWT_SECRET=<generate-random-32-chars>
# DATABASE_URL=<auto-set-by-heroku-postgres>
# LLM_API_KEY=<your-real-api-key>
# NODE_ENV=production


## ============================================================================
## AWS DEPLOYMENT (.env via AWS Secrets Manager or ECS Task Definition)
## ============================================================================

# Environment Variables in ECS Task Definition:
# REACT_APP_API_BASE_URL=https://your-domain.com
# JWT_SECRET=<from-AWS-Secrets-Manager>
# DATABASE_URL=<RDS-connection-string>
# LLM_API_KEY=<from-AWS-Secrets-Manager>
# NODE_ENV=production


## ============================================================================
## CLOUDFLARE WORKERS / EDGE (Requires different config)
## ============================================================================

# Set in wrangler.toml:
# [env.production]
# vars = { REACT_APP_API_BASE_URL = "https://api.interview-coach.com" }


## ============================================================================
## IMPORTANT SECURITY NOTES
## ============================================================================

# 1. NEVER commit .env files with real API keys to git
#    → .env is already in .gitignore ✓

# 2. Generate JWT_SECRET with:
#    → openssl rand -hex 32
#    → DO NOT reuse defaults in production

# 3. For different environments, create separate files:
#    .env           (default, usually gitignored)
#    .env.local     (development, gitignored)
#    .env.example   (template, safely committed)
#    .env.prod      (local copy for testing, gitignored)

# 4. HTTPS is REQUIRED in production:
#    → All API endpoints must use https://
#    → Use Let's Encrypt (free) or AWS ACM (free) for SSL

# 5. Never log sensitive values:
#    → API keys are never printed to console
#    → Tokens are never stored in localStorage (using sessionStorage for short-lived)

# 6. Database passwords:
#    → Use strong passwords (minimum 16 characters)
#    → Use database-specific username, not root
#    → Enable SSL connections to database

# 7. LLM API keys:
#    → Store in AWS Secrets Manager or similar
#    → Never commit to git
#    → Rotate quarterly
#    → Monitor for unauthorized usage


## ============================================================================
## DEPLOYMENT CHECKLIST
## ============================================================================

# Before deploying to production:

# [ ] JWT_SECRET generated (openssl rand -hex 32)
# [ ] LLM_API_KEY set and tested
# [ ] DATABASE_URL pointing to production database
# [ ] REACT_APP_API_BASE_URL uses https://
# [ ] NODE_ENV=production
# [ ] HTTPS certificate installed (Let's Encrypt or AWS ACM)
# [ ] SSL/TLS configured on load balancer
# [ ] Database backups configured
# [ ] Rate limiting enabled (Redis)
# [ ] Email verification working
# [ ] Bot detection enabled
# [ ] Monitoring/logging configured
# [ ] Security headers set
# [ ] CORS configured for your domain


## ============================================================================
## QUICK START COMMANDS
## ============================================================================

# Generate secure JWT secret:
# openssl rand -hex 32

# For development:
# cp .env.example .env
# npm install && npm start

# For production build:
# REACT_APP_API_BASE_URL=https://your-domain.com npm run build

# For Docker:
# docker build -t interview-coach .
# docker run -e REACT_APP_API_BASE_URL=https://domain.com interview-coach

# For docker-compose:
# docker-compose -f docker-compose.prod.yml up -d
